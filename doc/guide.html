<style>
    .doc_details {
        margin-left:20px;
        font-size:16px;
    }
    .doc_details summary { font-weight: 600; }
</style>

<details class="doc_details"><summary>About</summary>
    This is <a href="http://hdrobotic.com/" target="_blank">Dexter</a> Development Environment<br/>
    version:  <span id="dde_version_id">2.0.14</span><br/>
    released: <span id="dde_release_date_id">Aug 30, 2017</span>
    <p/>
    DDE helps you create, debug, and send software to a Dexter robot.
    You can use any JavaScript augmented with DDE-specific functions to help find out about,
    and manipulate, a robot.<br/>
    <a href="http://hdrobotic.com/videos/" target="_blank">Videos on Dexter</a><br/>
    <!-- <span id="dde_overview_id" style="color:blue; text-decoration:underline;">DDE Overview Paper</span> -->
</details>
<details class="doc_details"><summary>Why Use DDE?</summary>
    Dexter has a limitless variety of capabilities.
    We couldn't think of them all let alone program them.
    And if we could, finding the right button for each program would be
    extremely difficult, besides overfilling screen real estate.
    <br/><br/>
    By providing a general purpose language that is broad enough to cover all the bases,
    yet detailed enough to specify the action details, users can specify the
    precise behavior they desire.
    We've extended JavaScript, most common web page programming language,
    with dexter-specific functions like
    "move" and ways to gets values from its sensors (like camera").
    This allows you to specify things like:
    <i>If part X is in the workspace, then move it 10 millimeters to its left</i>.
    <br/><br/>
    You need a general purpose language to customize that "10"
    with any computable number in a myriad of ways. We may want to
    create actions that depend on conditions that differ with the environment, time,
    or materials. Instead of move, we might want to rotate, or grasp, or drill, etc.
    <details class="doc_details"><summary>Won't a Text Editor Do?</summary>
        You could use any old text editor to write code. But you'd need to know:
        <ol>
            <li>What capabilities are available?</li>
            <li>What do they actually do? (semantic details)</li>
            <li>How do I use them? (syntactic details)</li>
            <li>How do I run the code?</li>
            <li>How do I localize bugs?</li>
            <li>How do I understand and fix them?</li>
            <li>How do I store and re-run programs I've created?</li>
            <li>How do I change and extend existing code?</li>
        </ol>
        DDE helps you with all of the above.
    </details>
</details>
<details class="doc_details"><summary>Prerequisites</summary>
    You'll need a Dexter robot and a basic knowledge of JavaScript to make full use of DDE.
    DDE provides a lot of help for learning JavaScript directly and the
    <b>Learning JavaScript</b> section of this documentation gives you a number of
    very good on-line sources to smooth your path.
    Without a robot, you can still use DDE to <i>simulate</i> one.
</details>
<details class="doc_details"><summary>Installation</summary>
    <details class="doc_details"><summary>First Install</summary>
        To get the latest DDE release,
        <ul><li> Browse <a href="https://github.com/cfry/dde/releases/latest" target="_blink">Github</a></li>
            <li> Click on the file for your operating system:
                <ul><li>For Windows: <samp>.exe</samp></li>
                    <li>For Mac: <samp>.dmg</samp></li>
                    <li>For Linux: <samp>.AppImage</samp> </li>
                </ul></li>
            <li> The clicked file will be copied to your downloads folder.
                For Windows and Mac, you may have to click on it to
                complete installation, or that might start automatically.
                For Linux, you will have to make the file executable like so:<br/>
                <samp>$ chmod +x dexter_dev_env.AppImage</samp><br/>
                in order to run it.
            </li>
        </ul>
    </details>
    <details id="update_doc_id" class="doc_details"><summary>Updating to the latest DDE</summary>
        Follow the directions under <b>First Install</b> above.
        This will not change any files in your <samp> Documents/dde_apps</samp> folder.
        <p/>
        Twist down the <b>About</b> row in the Doc pane to see the installed version number of DDE.
    </details>
    <details class="doc_details"><summary>Launch DDE</summary>
        On Windows, the DDE application is installed in
        <samp>C:\Program Files\dexter_dev_env\dexter_dev_env.exe</samp>
        and on the desktop.<br/>
        On Mac, <samp>Macintosh HD/Applications/dever_dev_env.app</samp>
        <p/>
        Double click on the file to launch DDE. If there is a file
        <samp>Documents/dde_apps/dde_init.js</samp>, it will be
        loaded automatically. Thus you can put any code in that file
        that you want to be evaled at start-up, such as libraries you've
        written, etc.
    </details>
</details>
<details class="doc_details"><summary>Configure DDE</summary>
    DDE requires that you create a folder under your Documents folder named <samp> dde_apps</samp>.
    If this does not exist when you launch DDE, you'll see a warning in the output pane.
    <p/>
    DDE requires that you have a default robot named "dexter0". Usually the one
    that is automatically inserted into the file dde_apps/dde_init.js is fine.
    However, in that file you may need to modify the ip_address and port number
    of Dexter. The default ip_address is <code>"192.168.1.142"</code> The port number
    is typically <code>"50000"</code>.
</details>

<details class="doc_details"><summary>Configure Dexter</summary>
    <details class="doc_details"><summary>Key Parts</summary>
     Dexter has 5 joints and 5 links between them. The two longest links
    are each about 32 centimeters long and made of square carbon fiber tubes.
    The tube closest  to Dexter's base is LINK2.
    <p/>
    Mounted on it is the
    <i>motor controller</i> printed circuit board, 17cm x 6 cm. Mounted on top
    of it is the <i>processor</i> board, 10cm x 6cm. Mounted on the bottom of the processor
    board is a metal housing containing an <i>Ethernet socket</i> for an RJ45 connector.
    The lower portion of the housing for the RJ45 contains a USB socket.
    To the left of the housing hanging over the bottom of the processor board
    is a micro USB socket.
    Underneath this
    housing on the motor controller board is a green-yellow LED.
    This is the "power" LED. It is fairly hidden, but you can see
    it between the boards if you look carefully.
    </details>
    <details class="doc_details"><summary>Power Up</summary>
When Dexter is off and disconnected from the power, you can move each joint
manually with just a little resistence from Dexter. When transporting
Dexter you should move the joints to fold it up into a compact configuration.
<p/>
Moving a joint will cause a corresponding drive belt to move.
You'll hear a "whirring" sound from the transmission.
You should also see the power light to go on. Dexter's motors act as generators
and will generate electricity which powers the power LED. Seeing the light go
on when you move a joint is a diagnostic that the wiring is, at least partially, correct.
<p/>
Dexter does not have an on-off switch. You just plug it into its
power adapter and the wall to turn it on.
The power adapter that comes with Dexter is a fairly common "power brick" or "wall wart" used
on many PC laptops. It is about 3 meters long.
The wall end is a 2 prong, unpolarized connector, common
for USA appliances. Electrically, it accepts input of 100 to 240 volts, 50 to 60 Hz AC,
which is supplied throughout the world. However, mechanical connections vary from
country to country. Adapter plugs that accept the USA 2 prong plugs are commonly available.
<p/>
The Dexter end of the power adapter is a male cylinder 5mm in outer diameter, common
on older PC laptops. The Power Adapter consumes 1.5 Amps and outputs
3.15 Amps at 19 volts. If you lose it, many PC laptop power adapters will work.
<p/>
Before turning on Dexter, move its joints so that its standing straight up.
With the power board facing you, the final link should be horizontal pointing to the left.
Dexter's power socket is connected by 2 short wires to Dexter's base. You turn on Dexter by
plugging in the the power adapter to Dexter and the wall.
If the wall has power, an LED on the power adapter will go on.
<p/>
When Dexter is turned on, after about 8 seconds, it does a 5 second or so little "dance"
moving each of its joints.
<p/>
The processor board has 3 bright LEDs.
<ul>
    <li><b style="color:green;">green</b> lights when the processor board is getting power.</li>
    <li><b style="color:blue;">blue</b>   lights when the FPGA is programmed and ready for operation.</li>
    <li><b style="color:red;">red</b>     lights during disk access (to the 8 Gigabyte SD card.) </li>
</ul>
The base of the motor controller board has 3
<b style="color:#c6ff21;">green-yellow</b> LEDs on one side and 2 on the other.
Each indicates that a joint has power.
    </details> <!-- end Power Up -->

    <details class="doc_details" ><summary>Data Connection</summary>
    The primary interface between the computer running DDE and Dexter is WiFi.
    Dexter ships with a USB WiFi "nub", a tiny device ethat plugs into
    a USB port. We recommend USB 3.0. USB2.0 will work but is slower.
    You will need to be in a strong WiFi area for best results.
    <p/>
    <b>ping</b><br/>
    Dexter is shipped with an ip_address of <code>"192.168.1.142"</code>
    You can use a low level tool called "command prompt" or "terminal"
    to verify connectivity. Windows and Mac OS's do an excellent job
    at hiding these useful tools.<br/>
     On Windows 7, <br/>
     Start/All Programs/Accessories/Command Prompt.<br/>
    On MacOS: try <br/>Favorites/Applications/Utilities/terminal.app.<br/>
    Enter <code title="unEVALable">ping 192.168.1.142</code>
    <p/>
    If you have connectivity you
    should see something like the cryptic:<br/>
     <samp>Reply from 192.168.1.142 bytes=32 time 1ms</samp><br/>
    several times. Without connectivity you'll see something like:<br/>
     <samp>Destination host unreachable</samp> or<br/> <samp>Request timeout</samp>
     or<br/><samp>Host is down</samp>
    several times.
    <p/>
    <b>Ethernet Cable</b><br/>
    If WiFi doesn't work for you, use an Ethernet cable (with RJ45 male connectors) to go between
    Dexter and your computer. Available at Staples, Home Depot, Best Buy, Amazon, etc.
    Ethernet cables come in different "Categories". Get "Cat 5e".
    The <i>Ethernet socket</i> on Dexter is on the bottom of the processor
    board with the socket facing down. Most modern laptop computers lack an Ethernet socket but there
    are <i>USB 3.0 to Ethernet RJ45 adaptors</i> for about $15
    <a href="https://www.amazon.com/s/ref=nb_sb_noss_2?tag=laptop-magazine-20&url=search-alias%3daps&field-keywords=USB+to+Ethernet&rh=i%3aaps%2ck%3aUSB+to+Ethernet"
       target="_blank">here</a>.
    Get one that purports to work with your OS, as there are some incompatibilities.
    Beware that for some adaptors for some OS's you need to install a software driver,
    typically downloadable for free from the USB to Ethernet adaptor's website.
    (Necessary for Macs at least.)
    <p/>Instead of getting a USB to Ethernet adaptor, you can use a USB cable that
    has a male micro USB and a regular (larger) USB male.
    The micro USB male plugs into the micro USB socket on Dexter's processor board.
    See the <b>Key Parts</b> section above for how to find the micro USB socket.
    <p/>
    The software setup for such direct-wire connectivity is a bit tricky.
        First, make sure your cable is plugged into and firmly seating in
        both your computer and Dexter.<br/>
    <b>On Windows 7:</b>
    <ol><li>Go to Start/Control Panel<li>
        <li>Click on: "Network and Sharing Center"</li>
        <li>In the left column, click on "Change adapter settings".</li>
        <li>In the new dialog, click right on "Local Area Connection" and </li>
        <li>Choose "Properties".</li>
        <li>In the new dialog, in "Network" tab, click on "Internet Protocol Version 4" to select it.</li>
        <li>Click on the "Properties" button. This presents yet another dialog box.</li>
        <li>Select "Use the following IP address"</li>
        <li>Enter ip address: <code title="unEVALable">192.168.1.50</code></li>
        <li>The Subnet mask should be:<br/><code title="unEVALable">255 255 255 0</code></li>
        <li>Leave the "Default gateway blank.</li>
        <li>Click the OK button and close the remaining dialogs.</li>
     </ol>
     <b>On MacOS</b> its even harder.
     <ol><li>Disconnect your WiFi (sorry, its necessary) by clicking on the
             "Radio waves" icon in the upper right of the screen.
             Choose "Turn WiFi Off".</li>
         <li>Select Apple Menu/System Preferences</li>
         <li>If your OS version is Sierra, a mostly useless dialog will come up.
             You have to click the left arrow in the upper left of this dialog
             to get the useful System Preferences with lots of choices.</li>
         <li>Click the "Network" icon to get another dialog box.</li>
         <li>Running down the left side of this dialog is an unlabeled column of
             all the possible connections. Apple cleverly made this column too
             narrow to be useful, so hover your mouse over each items to
             be able to read one in full. You're looking for a USB to Ethernet connection.
             For example, the <i>UGreen</i> adaptor helpfully says "AX881" until you
             hover the mouse over it to see its full name ending in "USB 3.0 to Gigabit Ethernet".
             Click on the appropriate connection.</li>
         <li>Clicking on the connection changes the inputs to the right.<br/>
             For the <b>Configure IPV4</b> field, choose <samp>Manually</samp><br/>
             For the <b>IP Address</b> field, type in the IP address to give your Mac,
             typically <samp>192.168.1.200</samp> works, but definately <i>not</i> the
             IP address of Dexter.<br/>
             For the <b>Subnet Mask</b> field, type in <samp>255.255.255.1</samp><br/>
             For the <b>Router</b> field, leave it blank.</li>
         <li>Click the "Apply" button.</li>
      </ol>
      We are working on making this easier.
    </details> <!-- end Data Connectivity -->
    <details class="doc_details"><summary>Test Connectivity</summary>
        You should now be able to ping Dexter and have connectivity.<br/>
        (See above on how to "ping".)<br/>
        <b>Troubleshooting</b><br/>
        Ping doesn't find the host? Try reseating all the cables. Try power cycling
        Dexter and/or your computer. <br/>
        If you are using an Ethernet cable, there are two LEDs on top of the RJ45 socket.
        When the amber one is lit, it shows connectivity. The green LED indicates
        data transfer.
        <p/>
        <b>Using DDE</b><br/>
        On the Jobs menu/Simulate? submenu, choose "false".
        Now choose Jobs menu/Run Instruction/NEUTRAL_ANGLES,
        or other angles.
        <p/>
        If the robot moves, you can control it from DDE!
        The next step is calibrating Dexter. Choose the menu item
        Jobs menu/Calibrate Dexter to start.
        <p/>
        We recommend choosing <span style="color:blue;">?</span>
        in the upper right corner of the Doc pane to understand the Help System.
    </details>
    <details id="dexters_file_system_doc_id" class="doc_details"><summary>Dexter's File System</summary>
    Dexter's processor board runs Linux. Once you are connected to Dexter,
    you should be able to browse this file system using your computer's
    file navigation tools. Dexter's file system will show up as
    a separate "Volume" or "Device".
    On the Mac, in the Finder, you should see, in the left column,
    <samp>Localhost</samp>. Click on it. In a half minute or so,
    you should see in the right (main) pane of the finder a
    single folder <samp>share</samp>. This folder is on Dexter.
    Expand it to see several files on Dexter.
    <p/>
    DDE can also access this share folder on Dexter.
    Use the File menu/Open to edit a file. You can save modified
    files on Dexter too.

    </details>


    </details><!-- end Set Up Dexter -->

<details class="doc_details" id="calibrate_doc_id"><summary>Calibrate Dexter</summary>
<b>When</b><br/>
To obtain optimal precision, Dexter must be calibrated after it is built.
<p/>
Environmental effects of heat, humidity, movement, and orientation towards gravity,
all conspire to make minor changes that affect Dexter's accuracy.
<b>Calibrate optical sensors</b> will most likely only need to be done once.
If you received a fully assembled Dexter, this initial calibration has been done.
If you are building a kit, you must calibrate it when the building is complete.
<b>Calibrate optical encoders</b> needs to be done every time Dexter is turned on.
If Dexter is having sporadic movement or is not smooth
in FollowMe mode, try going through a full calibration.
<p/>
<b>How</b><br/>
Choose the Jobs menu item of "Calibrate Dexter..." to open a dialog
aiding calibration.
<h5>Step 1</h5>
Select the robot to calibrate. If you have only one Dexter, the default of
<i>dexter0</i> will already be selected.
<h5>Step 2</h5>
<b>Calibrate optical sensors</b> by
calibrating each of the five joints. When you choose the radio button for a joint,
this begins a Job that draws thousands of points in the
large white square plot area on the right of the dialog.
If you don't see points drawn, you probably have your robot set to <i>simulate</i>
i.e. <code title="not in TestSuite">new Dexter({simulate: true})</code> or
have that simulate init param set to <code>null</code> which causes it
to look at the Jobs menu/Simulate? radio buttons for a value,
or there is a discontinuity in your wiring.
If the robot has its <i>simulate</i> init parameter
set to <code>null</code> (the default
and the case for dexter0), choose Jobs menu/Simulate?/ of <code>false</code>.
<p/>
For each Joint, twist the two trim pots on the small (several centimeters per side)
printed circuit board
(the "optical board")
for the joint that you are calibrating,
until the drawn points form a circle, or as near a circle as you can make.
The desired circle fills the white plot area in the dialog, not smaller and
not larger.
<p/>
Joints 1, 4, and 5 also have two screws to adjust the position of the optical blocks.
 If you see the drawn points form the pattern of an elongated diagonal oval,
 that indicates that the positional screws need to be adjusted.
 <p/>
 All adjustments can be made with the provided small screw driver.
 <p/>
 As you adjust, the screen will become cluttered with now obsolete dots.
 Click the "Restart" button to clear the dots and start calibrating the
 selected Joint over again.
 <p/>
 Allow the drawing of points to complete (several minutes).
 If the circle looks good, click the mouse in the center of the circle.
 This will draw a red point there. If you are not satisfied with the
 center you've chosen, click the mouse again at a new location.
 <p/>
 Once you are satisfied with the circle center you've chosen,
 click the "Done" check box underneath the Joint's radio button.
 Then click another Joint's radio button and repeat the above process
 for that Joint.
 <p/>
 When you've completed calibrating all five joints, click the
 "Save" button.
 <h5>Step 3</h5>
 <b>Calibrate optical encoders</b><br/>
 <span style="color:red;">Caution! Clear area for large robot movements.</span><br/>
    Calibrate the optical encoders by clicking the bottom button in the dialog.
 This will take about a minute.
 When the directions line in Step 2 says that calibration is complete, you
 can close this dialog by clicking the <b>x</b> in its upper right corner.
</details>

<details class="doc_details"><summary>User Interface</summary>
    <details id="help_system_doc_id" class="doc_details"><summary>Help System</summary>
        Web programmers spend an inordinate amount of time searching the web
        because of missing or incomplete documentation. DDE bends over backwards to
        provide the documentation you need to create jobs. There are quite a number
        of ways to get "just in time & place" help within DDE. We've tried to
        make them easy to discover, but in such a sophisticated environment,
        you might miss a few. So here's the list:
        <ul><li><a href="http://hdrobotic.com/videos/" target="_blank">DDE videos</a>
            This web page has videos on the overall mission, DDE, and the hardware.
            The DDE video is 10 minutes long and covers the basics.<p/></li>
            <li><a href="http://hdrobotic.com/webinar/" target="_blank">Webinar videos</a> on DDE and Building Dexter</li>
            <li><a href="http://hdrobotic.com/software" target="_blank">http://hdrobotic.com/software</a>
                This url shows you the content
                that is in DDE's documentation pane.
                Usually its better to view this content
                from within DDE, but there may be times when this web page is handy.
                For instance, <b>User Guide/Installation</b> tells you how to install DDE.
                You can also browse the <b>Release Notes</b> before installing a version.<p/></li>
            <li><b>tooltips</b> Many menu items and buttons provide concise help. Place the
                mouse over the item and don't move it for a couple of seconds.<p/></li>
            <li><b>code examples</b> DDE's Learn JS, Insert, and Job menus let you insert,
                into the editor buffer,
                practical examples of JavaScript which you can then customize to your needs.<p/></li>
            <li><b>TestSuite</b> DDE's test suite is used primarily to verify functionality.
                But you can also use the Test/Insert All menu item to
                see the source code of many of the tests. This will generally
                be <i>less</i> useful than explicit examples, but
                may come in handy for edge cases.<p/></li>
            <li><b>Doc Pane</b> <br/>The <b>Articles</b> provide overall, abstract help.<br/>
                The <b>User Guide</b> helps you with the DDE programming
                environment.<br/>
                The <b>Reference Manual</b> provides details of the <i>language</i>
                that is used to create Jobs.<br/>
                The <b>Release Notes</b> tell you what has changed between releases.
                The vast majority of this information is folded into the regular documentation
                upon each release, but if you want to know what's changed,
                browse the release notes. Recommended each time you update DDE.<br/>
                The <b>Known Issues</b> tells you about large omissions and problems within DDE.
                Please don't send us any bug reports about things documented here.<p/></li>
            <li><b><a href="https://github.com/cfry/dde" target="_blank">https://github.com/cfry/dde</a></b> Rarely should you need to examine
                DDE's source code to figure out how something works, but its all
                available on github, including the documentation. <p/>
                <a href="https://github.com/cfry/dde/releases" target="_blank"> https://github.com/cfry/dde/releases</a> has download instructions.</li>
            <li><b>New Releases</b> Each time you launch DDE, the Output pane will
                tell you whether or not there is a later release and how to download it.<p/></li>
            <li><b>Find button</b> In the Doc pane header, there's a type-in box.
                Enter text and click the Find button. Sections containing
                that text will have an orange background. Expand them.
                The text itself will have a yellow background.
                This scheme allows you to avoid looking at sections
                that you may not care about, such as Release Notes.
                <p/>
                If the text type-in is blank, the Find button will grab
                a selection and search for that text in the documentation.
                You can select text in the Editor, Output, and Doc panes.
                You can also select text in the Command type-in (Output pane
                header) and the Run Instruction dialog box's source code type-in.<p/></li>
            <li><b>Click Help</b> If you click on text in the Editor pane, Output pane,
                Command line type-in or Doc pane code examples,
                a line of help about what you clicked on will appear
                in the output pane. Often this will have a blue, underlined
                link that you can click on for more information.<p/></li>
            <li><b>Eval button</b> The Eval button lets you run code pretty much
                where ever you find it in DDE. The result of the evaluation
                will appear in the Output pane. While coding, we recommend
                evaling little pieces of code often. This will prevent
                hard-to-find bugs. This is a great way to learn
                about functionality.
                <ul><li>If there is a selection in the Editor,
                    it will be evaled when you click the button.
                    Triple click on a line in the editor to select
                    the whole line.
                    Note that all "valid" code won't necessarily
                    be valid <i>in isolation</i>. For instance, in:<br/>
                    <code>function foo(my_arg){ my_arg + 2 + 3 }</code><br/>
                    selecting <code  title="unEVALable code fragment"> my_arg</code> (either place)
                    will error because <code title="unEVALable code fragment"> my_arg</code> is undefined.
                    However, <code>2 + 3</code> => <samp>5</samp></li>
                    <li>If there is a selection in the Output pane,
                        Doc pane, or Command type-in, it will be evaled.</li>
                    <li>If there is no selection, the entire contents of
                        the Editor pane will be evaluated.</li>
                </ul><p/></li>
            <li><b>Inspector</b> When you select some code and click the Eval button,
               the reslt of running that code is shown in the Output pane in an Inspector.
               This allwows you to navigate complex data strutures (including circular ones)
               expanding just those parts you're interesting in, giving you control
               over the visualization of any data that can be produced by Eval.</li>
            <li><b>Run Instruction</b> The Run Instruction dialog let's you trivally created
                instructions and run them. Open it by choosing Jobs/Run Instruction.
                Clicking on any of the
                buttons or the instruction SELECT menu let's you
                see the parameters of the instruction.
                The "Insert Job" button will wrap the instruction
                source in a Job and insert it into the editor
                buffer at the cursor. This is an easy way to get
                started on defining a Job. Use the "Insert" button
                to insert just the source for an instruction.
                Position the cursor in the Job's do_list first.
            </li>
            <!-- <li><b></b> </li>-->
        </ul>
    </details>
    <details id="javascript_pane_doc_id" class="doc_details"><summary>Editor Pane</summary>
        The Editor pane is a text editor. You can view and edit any text documents in it,
        but primarily you will be editing JavaScript that defines a job to make something
        with Dexter. DDE expects you to save such "apps" in your <samp> Documents/dde_apps/</samp>
        folder.<p/>
        The red dots on the left column of the editor indicate possible syntactic errors.
        Many of these are unnecessary or trivial formatting issues that will
        not affect running the code. If the code doesn't Eval, look at the red dots and their
        tooltips for clues.
    </details>
    <details id="output_pane_doc_id" class="doc_details"><summary>Output Pane</summary>
        DDE prints information in the Output pane that will be useful in your current context.
        You can explicitly print in the output pane with a call to the JavaScript function <code>out</code>.
        Example:<br/>
        <code>out("hi <i>world</i>", "blue")</code><br/>
        <code>out</code> accepts any valid HTML as its first argument. It will be rendered in the Output pane.
        <details id="start_job_help_doc_id" class="doc_details"><summary>Start Job Button</summary>
            Clicking this button evals and starts the job that the cursor is in.
            <p/>
            If the cursor is in a job's source code but not in the do_list,
            then the job source will be evaled, and the job started.
            <p/>
            If the cursor is on an instruction in the do_list with no selection,
            the job will be evaled and started with the first instruction run being
            the one the cursor is on.
            <p/>
            If there is a selection within the do_list, then the first instruction
            run will be the one that contains the start of the selection,
            and the last instruction run will be the one that contains the
            end of the selection. This works by setting the job's
            <code title="unEVALable code fragment"> program_counter</code>
            and <code title="unEVALable code fragment"> ending_program_counter</code> properties.
            <p/>
            If you have selected the source code for one or more instructions
            (with comma's between them) and there is no <code  title="not in TestSuite"> new Job()</code> wrapper
            around the instructions, then a Job wrapper will be automatically made
            behind the scenes, the job will be defined, and started.
            <p/>
            Just before an instruction is run, it will be selected in the editor.
        </details>

    </details>
    <details id="documentation_pane_doc_id" class="doc_details"><summary>Documentation Pane</summary>
        The Documentation pane describes the core knowledge you'll need to command Dexter to make things.
        Admittedly we'll always fall short of this goal, but let us know if some crucial information
        is missing and we'll do our best to fill the void.<p/>
        You can find out what version of DDE is running and the latest changes under the
        <b>Release Notes</b> section of the documentation.
        Details about programming Dexter are in the <b>Reference Manual</b> section.
    </details>
    <details id="simulate_pane_doc_id" class="doc_details"><summary>Simulate Pane</summary>
        <div style="padding-left:20px">
            The simulate pane shows a graphical simulation of Dexter with
            joint angles of the last heartbeat robot status returned.
            (By default, heartbeats happen every 100ms.)
            <p/>
            Use the mouse in the <i>Simulate</i> pane to:
            <ul style="padding:0px;margin-left:20px;display:inline-block;" >
                <li><b>Rotate table</b>: mouse-down then drag.</li>
                <li><b>Zoom</b>: shift-down then mouse-down then drag.</li>
                <li><b>Pan</b>: alt or option down, then mouse-down, then drag.</li>
            </ul>
            <p/>
            <button>Demo</button> shows Dexter randomly flailing around, not
            correlated to a connected Dexter.
            <p/>
            The menu in the Simulate pane header let's you browse several videos showing
            off Dexter's capabilities.
        </div>
        <details class="doc_details"><summary>Stepping Instructions</summary>
            To understand a Job's behavior, its useful to <i>step</i> through each instruction.
            Checking the <b>pause</b> checkbox will cause running jobs to pause
            when they have completed their current instruction. Jobs started when
            the pause button is checked will pause right before the first user instruction
            on the do_list is run.<p/>
            When a job is paused, clicking the <button>Go</button> button will cause
            it to execute the next instruction, print out useful information in the Output
            pane, and pause. If a job is paused, and you uncheck the pause checkbox,
            then click the <button>Go</button> button, the job will begin running normally.
            <p/>
            <details id="debugger_doc_id" class="doc_details"><summary>"debugger"</summary>
                The instruction of <code>"debugger"</code> in a do_list will cause
                the <b>pause</b> checkbox to be checked and the job to pause.
                A function that returns the string <code>"debugger"</code> or
                even an array that has an element of <code>"debugger"</code>
                will cause a pause.
                <p/>
                Note that using the string <code>"debugger"</code>
                is intentionally similar to using the JavaScript constant <code title="not in TestSuite"> debugger</code>.
                If you have the constant <code title="not in TestSuite"> debugger</code>
                in the body of a function that is a do_list item, or is called by
                a do_list item, it will cause a JavaScript breakpoint and you
                can step through that code using the Chrome dev tools.
                See Documentation top level section <b>Debugging</b>.
            </details>
        </details>
    </details>

</details> <!-- end User Interface -->
<details class="doc_details"><summary>JavaScript</summary>
    DDE let's you control a Dexter robot with Javascript. You can execute all of JS.
    DDE extends JavaScript with a library of functions that control Dexter, allow access to Unix commands
    on Dexter's computer, Window system extensions, as well as ROS specific function calls allowing you to find out about
    and control Dexter.<p/>
    In DDE, <code>console.log</code> sends its output
    to the (usually hidden) Chrome console.
    Use <code>out</code> (on the <button>Insert&#9660;</button> menu) to see output in the Output pane.
</details>
<details class="doc_details" id="learning_js_doc_id"><summary>Learning JavaScript</summary>
    The quickest way to learn most of the JavaScript you'll need is from the
    Editor Pane's <button>Learn JS&#9660;</button> menu.
    Read menu item tooltips, choose an item to insert code, then click <button>Eval</button>
    to eval all the code in the Editor. If there's a selection when you click Eval,
    just the selected code will be evaluated. In fact, <button>Eval</button>
    works on any selected text. Try it by:
    <ul><li>Select the all below code in white.</li>
        <li><code style='padding:4px;'>6 / 2 + " * 4 "  </code></li>
        <li>Click the Eval button.</li>
        <li>In the Output pane, select<br/> 3 * 4</li>
        <li>Click the Eval button.</li>
     </ul>
    Choose menu items under  <button>Learn JS&#9660;</button> in depth-first order for a consistent overview, and later you can choose
    exactly those items you need to insert a code snippet.<br/>
    <fieldset><legend><span style="color:red;">Warning</span></legend>
        <b>Code in the editor that has not been evaled will have no effect.</b></fieldset><br/>
    A nice interactive tutorial is available at:
    <a target="_blank" href="https://www.codecademy.com/learn/javascript">
        https://www.codecademy.com/learn/javascript</a> Beware that <code>console.log</code> prints to the
    <i>normally hidden</i> chrome console. DDE's <code>out</code> is easier to use.
    <p/>
    If you want more prose, there are lots of JavaScript tutorials on the web. You will not need to know
    HTML, CSS or JQuery that are commonly taught in conjunction with JavaScript.
    <p/>
    <a href="http://jsforcats.com" target="_blank">A very gentle intro to JavaScript.</a> Ignore the
    parts that use the <i>Underscore</i> library.<br/>
    A more formal (and long) <a href="http://www.w3schools.com/js/" target="_blank">tutorial</a>.
    <details class="doc_details"><summary>JS for Programmers</summary>
        If you're already a competent programmer but don't know JS specifics,
        here's a few tips:<br/>
        JavaScript is an <b>untyped</b> language. That means you don't declare types
        of variables, function parameters, or return values. So for instance,
        <br/>C's &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code  title="unEVALable code fragment"> int foo = 32;</code> <br/>
        in JS is <code>var foo = 32;</code><br/>
        The type system is,
        um, weak. The <b>object system</b> is also in somewhat of disarray. Because of that
        there are many packages adding a more rational Object system, but they all
        differ, confusingly.
        <p/>
        There's no <b>compiler</b> in JavaScript. There are no "includes" or
        "pre processors" or "macros". The code is run in an iterpreter inside
        a browser (every browser, actually). The major browsers also offer a
        debugging environment, though typically no Editor. DDE gives you an editor
        and a lot of other convenieces for developing code.
        <p/>
        <b>Whitespace</b> characters are those characers that "take up space" but you can't
        otherwise see. This includes space, tab, newline and a few others. In Javascript,
        mostly its the case that 1 whitespace character is equivalent to any number of
        contiguous whitespace characters. Except that function calls need to be ended
        with either a semicolon or a newline, not just a space.
        For example:<br/>
        <code>Math.min(3, 4); Math.min(5, 6)</code><br/>
        is legal, as is:<br/>
        <code>Math.min(3, 4)<br/>
            Math.min(5, 6)</code><br/>
        but not:<br/>
        <code title="errors"> Math.min(3, 4)  &nbsp;Math.min(5, 6)</code>
        <p/>
        There is no <b>Window System</b> per se in JavaScript but it ties into
        HTML, CSS and the browser's Document Object Model. This is confusing since
        it requires several different syntaxes and ways-of-thinking. DDE
        simplifies this by providing
        the key window system facilites you'll need for commanding Dexter
        via the function <code>show_window</code>, the <code title="unEVALable code fragment"> Human.enter_*</code> instructions
        and a few other utilities. See the <button>Insert&#9660;</button> menu.
        <p/>
        Javascript's functionality greatly expanded in 2016 with a new version who's name
        itself is confusing. You'll see <b>EcmaScript 6</b>, JavaScript 2015 and a few variants.
        Browsers vary as to how much of this they implement, but Chrome, the browser
        DDE uses, has nearly 100% of this new standard implemented as of June, 2016.
        DDE depends on these new features.
        <p/>
        See in, this documentation, <b>Installation/Keep Chrome up to date</b>.
        JS 6 can run code from earlier versions of JS, but there's an awful lot
        of new functionality that isn't in most existing JS documentation.
        <p/>
        Like all popular programming languages, JavaScript has its problems.
        But its unique in its "deployability". JS and DDE runs on Windows, Macs,
        Linux, and Chromebooks. Its new features are quite powerful, and DDE strives
        to make learning and using JS as simple as possible. Your new skills will
        serve you well in Web programming for billions of users.
        <p/>
        Recommended JS Tutorials for the experienced programmer (both of which ignore
        the new JS 6 extensions):<br/>
        <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript">
            JS re-introduction</a><br/>
        <a target="_blank" href="http://www.2ality.com/2013/06/basic-javascript.html">more comprehensive</a>
    </details>
    Eventually you will need to know the concepts of ROS (the Robot Operating System), though
    not the syntax of BASH, C++ and Python normally required to work with ROS.
</details>
<details class="doc_details"><summary>Workflow</summary>
    DDE let's you execute arbitrary JavaScript that is entered into the Editor pane.
    <ol><li>The Editor pane's menus allow you to insert useful code snippets into
        the Editor pane.</li>
        <li>You can edit and extend the inserted code. Use any valid JavaScript.</li>
        <li>Click the <button>Eval</button> button. The result of the last expression evaluated
            will appear in the Output pane.</li>
        <li>If there is a selection when the <button>Eval</button> button is clicked, only the selected
            code will be executed.</li>
        <li>Triple click on a line to select it.</li>
        <li>Alt-click on a JS function call to select it.</li>
    </ol>
    Try this: type into the editor<br/>
    <code>2 + 3</code><br/>
    Click <button>Eval</button> and see <b>5</b> in the Output pane.

    <details class="doc_details"><summary>Persistent Data</summary>
        When you have defined a named function, set a global variable or a property
        reachable by a global variable, that data will remain in the JS environment until
        you relaunch DDE. This is even true if you bring a new file into the editor.
        <p/>
        Overall this facilitates programming, but it does have some behavior that may be unexpected.
        Imagine you define
        <br/><code>function foo(){return bar()}</code> and
        <br/><code>function bar(){return 'stuff'}</code>
        <br/>You call <code>foo()</code> => <samp>'stuff'</samp>.
        Now you rename <code>bar</code> to <code title="unEVALable code fragment"> baz</code> like so:
        <code>function baz(){return 'stuff'}</code>and test
        <code>baz()</code> => <samp>'stuff'</samp> as expected, as does calling
        <code>foo()</code> => <samp>'stuff'</samp>. Now
        <ul><li>Save this code in a file</li>
            <li>Relaunch DDE</li>
            <li>Open the file in the editor</li>
            <li>Eval it</li>
            <li>Call <code>foo()</code></li>
        </ul>
        The call to <code>foo</code> will error because <code>bar</code> is no longer defined.
        When redefining function and global variables, its a good idea to save your
        code in file(s), relaunch DDE, and reload your code periodically, to check against such issues.
    </details>
    <details class="doc_details"><summary>Working with Dexter</summary>
        <ol><li>In the output pane, enter any Unix BASH shell command in the <i>shell</i> type in
            and hit enter. It is run on Dexter's computer.  Returned text will be printed below.
            The command you typed in will also be added to the Output pane's <button>Ops&#9660;</button> menu under
            "User Commands" should you want to execute it again.
        </li>
            <li>The Output pane's <button>Ops&#9660;</button> menu allows easy access to finding out about the ROS environment.</li>
            <li>If you click on underlined text in the Output pane, it will scroll to
                a relevent section of the Doc pane, or, in the case of core JavaScript,
                pop up a window of documentation.</li>
        </ol>
    </details>
</details>
<details class="doc_details" id='series_doc_id'><summary>Series</summary>
    A useful way to organize knowledge is to construct lists of similar-typed concepts.
    DDE calls such lists <b><i>series</i></b>. There are over 30 series in DDE, including
    numbers, dates, colors, functions for math, strings, arrays, etc.
    The most useful functions and data structures in DDE are in a series.
    <p/>
    The <button>Series&#9660;</button> menu allows you to insert into the
    editor, an example item from each series. When you click on a series item in the editor,
    help is given on that item in the Output pane. Using the Right and Left arrow
    keys, you can replace a selected series item with the next or previous item
    in its series. The Up and Down arrow buttons replace a selected series item
    with an item from <i>another</i> series. Effectively this uses the series of series.
    <p/>
    An example of a series is <i>boolean</i>. Choose it from the <button>Series&#9660;</button>
    menu. It inserts <code>true</code>. Now hit the right arrow key to see additional items
    in the series (<code>false</code>, <code>null</code>, etc.) The left arrow goes backwards through the series.
    <p/>
    With any series item selected, hit the down arrow. If you're on a member of the boolean series,
    this will replace the selection with an item from the <i>integer</i> series.
    Press the up and down arrows to go to a new series.
    <p/>
    Each time you go to a new item from series or click on one already in the editor,
    help on it will be displayed in the Output pane.
</details>
<details class="doc_details"><summary>Jobs</summary>
    A job feeds the instructions in its do_list to a robot for making things.
    Most users of DDE will spend most of their time creating and running jobs.
    <p/>
    The <button>Series&#9660;</button> menu gives help on Jobs and Robots.
    <br/>
    The <button>Jobs&#9660;</button> menu contains numerous examples of defining Jobs and
    how to run them. Choose <b>Insert example 1</b> and read the comments to understand Job syntax.
    See the <b>Reference Manual</b> on <b>Job</b> for the details of specifying a job.
</details>
<details class="doc_details" id='robots_doc_id'><summary>Robots</summary>
    A robot is a machine capable of performing the instructions in its instruction set.
    The class hierarchy of DDE Robots is:<br/>
    <ul><li><code>Robot</code>
        <ul><li><code>Brain</code></li>
            <li><code>Dexter</code></li>
            <li><code>Human</code></li>
            <li><code>Serial</code></li>
        </ul>
    </li>
    </ul>
    To get a robot to perform instructions, you create an instance of its class, giving it
    at least a name (and in the case of Dexter, an ip_address and a port number) then
    create an instance of Job and give it a robot property of the robot you created.
    The job should also have a do_list, which is the sequence of instructions to run
    on the robot. When the <code title="unEVALable code fragment"> start</code> method is called on a Job, it sends the items
    on its do_list to the associated robot, sequentially, one at a time.
    <p/>
    From a software standpoint, a robot <i>is</i> its instruction set.
    The key difference between different kinds of Robots is the difference
    between their instruction sets. If a robot is sent
    an instruction not in its instruction set, it will error, because it doesn't know
    how to perform that kind of instruction.
    <p>
        <b>Robot</b> is the superclass of all robot classes. It contains instructions that
        can run on all robots. These are <i>control</i> instructions because they help
        manage the flow of instructions in a job. Examples include: <code>Robot.stop</code>
        to end a job immediately without processing the insructions after the stop instruction,
        and <code>Robot.wait_until</code> which pauses execution of the job's instructions until
        the calling of the given JS function returns true.
    <p/>
    See <button>Series&#9660;</button> submenu "robot" for details about robots as
    well as the <b>Reference Manual</b> section on Robots.
</details>
<details class="doc_details" id='TestSuite_doc_id'><summary>TestSuite</summary>
    DDE has the capability to compose, run and report on Test Suites.
    DDE comes with several Test Suites and you can define more.
    <p/>
    Each Test Suite has a name and an array of <i>tests</i>.
    A <i>test</i> is composed of an array of 1, 2, or 3 literal strings.
    <ol><li>A literal string of JavaScript code to evaluate that returns a value to be tested.</li>
        <li>The expected value of the above JavaScript code, also represented by
            a literal string of JavaScript.</li>
        <li>A literal string of a comment to aid in understanding the purpose or behavior of this test.
            If the comment starts with "known", then if the test does not pass, it
            will be reported on as an "known" failure. Other failures will be
            reported as "unknown". Often it is convenient to mark a test as "known" when
            you'd like to defer fixing it and just want to see the "unknown" failures.</li>
    </ol>
    Choose <button>Test&#9660;</button> <b>Insert Example</b> to see a demonstation
    Test Suite. <p/>
    You run a Test Suite by selecting it and hitting the right arrow key or
    choosing the Editor pane's <b>Test/naviation/Run & sel next item</b> menu item.
    Use the down arrow key to select the next level down item such as a test or
    even a part of a test. In each case, the right arrow executes the item and
    selects the next item at that level.
    <p/>
    To create a Test Suite, type in the JavaScript source of the suite's first test,
    select it, and choose <button>Test&#9660;</button> <b>Selection to test</b>.
    This will wrap a Test Suite around the item and fill in the test's expected value
    with the result of evaluating the code you have selected. If you do that again
    for a second JavaScript selection, it will also create a test, but this time,
    because the test is <i>already</i> in a Test Suite, it will not create a new
    Test Suite.
    <p/>
    Other operations on the <button>Test&#9660;</button> menu are documented with tooltips.
</details>
<details class="doc_details" id='debugging_id'><summary>Debugging</summary>
    Most programmers spend most of their time debugging.
    We recommend entering just a bit of code at a time; a line or less before testing it.
    That way, when a bug shows up, you'll know it was in the last bit that you added.
    If you fail to do this, and have a large amount of code that has a bug, comment out
    lines incrementally and test to isolate the bug.
    <p/>DDE uses an automatic syntax checker named <i>ESLint</i>. It
    indicates syntax errors in the Editor pane as soon as you enter them.
    There are many different styles of JS coding and different versions
    of JS so its hard to get such errors correct. Even if you have syntax
    errors indicated, your code may run fine. As a first pass though, try
    to fix such errors before evaling. If you can't, go ahead and evaluate
    your code. Perhaps runtime errors will help you fix the bug,
    or perhaps it will run OK and you'll know to just ignore the JS Pane syntax
    bug indication.
    <br/><br/>
    Evaling just selected portions is another way to isolate bugs. If there is a selection
    of JavaScript code, only that code will be evaled when you click <button>Eval</button>
    <br/><br/>
    Another technique is to comment out code until your bug goes away.<br/>
    <b><code title="unEVALable code fragment"> // </code></b> comments out to the end of the line.<br/>
    <b><code title="unEVALable code fragment"> /* comment */</code></b> Wrap JavaScript in <br/>
    slash-star ... star-slash<br/> to comment
    out code in the middle of a line or multiple lines.
    See the Editor pane's <button>Learn JS&#9660;</button> <i>debugging</i> menu items.
    <br/><br/>
    Entering <code title="not in TestSuite"> debugger;</code> into the body of a JS function definition will set a breakpoint there.
    When <code  title="not in TestSuite"> debugger;</code> is evaluated (after you call the function) and the <i>Chrome Developer Tools</i>
    window is open, execution will pause and highlight the <code title="not in TestSuite"> debugger;</code> statement in a copy
    of your source code.
    (To open the <i>Chrome Developer Tools</i> window, click right on any DDE pane and choose
    <b>Inspect Element</b>.
    Use the arrow buttons <img src="stepper_buttons.png" width="120" alt="stepper buttons"/>
    in the Developer Tools window upper right to step execution.

    <h4 id="print_statements_doc_id">Print Statements</h4>
    The oldest and crudest debugging techique is embedding print statements
    in your code. DDE supports a number of these to make debugging easier.
    <ul><li><b>console.log</b> Wrapping <code>console.log()</code> around a complex data structure will print it
    out in the Chrome Developer Tools console with arrows to allow you to expand
    data pieces of your choice to inspect. To see the console,
    click right anywhere in DDE and choose "Inspect".</li>

    <li><b>out</b> <code>out</code> prints its first argument
    into the Output pane. Because <code>out</code> returns
    its 1st argument, you can embed it in code to see an intermediate value.<br/>
    <code>out(2 + 3) * 4</code> => <samp>20</samp><br/>will print out 5, but return 20.<br/>
    It also can print it different colors to keep your outputs separate. It can also
    print just temporarily to the output pane and print to a named spot in the output
    pane.
    <button>Insert&#9660;</button> <i>Print to output</i> has items that print in a few different colors
    so that you can distinquish some outputs from others in a complex debugging session.
    See <a href="#" onclick="open_doc(out_doc_id)">out</a></li>

    <li><b>Robot.out</b> <code>Robot.out("some data")</code> creates an
    instruction in a Job's do_list to print content to the output console
    with similar functionality to <code>out</code>
    See <a href="#" onclick="open_doc('Robot.out_doc_id')">Robot.out</a></li>

    <li><b>show_instructions</b> <code title="unEVALable">new Job({show_instructions=some_fn})</code>
    lets you call an arbitrary function (with clever defaults) before each
    instruction in a Job is run.
    <a href="#" onclick="open_doc(new_job_parameters_doc_id)">new Job parameters</a></li>

    <li><b>inspect</b> <code title="unEVALable"> inspect(some_data) </code>
       will print a representation of its argument in the output pane.
       If it is a complex data structure, an interactive inspector will be displayed
       that will let you navigate to its parts. This mechanism is used when you
       click the <button>Eval</button> button, but you can call it programmatically
       from the middle of your code to inspect an intermediate value.</li>
    <li><b>clear_output</b> To erase all content in the output pane,
       click the <button>Clear</button> button in the Output pane or
       Eval <code>clear_output()</code><br/>
       See <a href="#" onclick="open_doc(clear_output_doc_id)">clear_output</a></li>
    </ul>
    <p/>
    <b>speak</b> behaves similarly to <code>out</code> in that it returns its 1st arg.
    It can be useful in contexts where you want to know a value but don't
    want to look at the screen to find it.
    speak is on the Insert menu, under <i>Learn Javascript/debugging</i>.
    <p/>
    Because JavaScript, like all popular textual programming languages, has not been
    designed with the "user experience" in mind, it is full of
    ideosyncracies that make learning how to use it require remembering a lot
    of "gotchas". The web has pages on common JavaScript programming errors.
    A good one is: <a href="https://www.w3schools.com/js/js_mistakes.asp">
        https://www.w3schools.com/js/js_mistakes.asp</a> , incomplete, but
        a good start.
</details>

<details class="doc_details"><summary>Contact</summary>
    Please help us by emailing a bug report or suggestion to
    <a id="email_bug_report_id" href="#">cfry@hdrobotic.com</a> Take a look at the
    latest <i>Release Notes</i> and the <i>Known Issues</i> to avoid duplication.
</details>